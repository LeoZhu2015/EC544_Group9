<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Localization</title>
  <script src="https://cdn.socket.io/socket.io-1.3.7.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.7/socket.io.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.js"></script>
</head>

<body>

  <!-- <form>
    Sensor 2 : X-axis:<br>
    <input id="sensor two x" type="text" name="">
    <br>
    Sensor 2 : Y axis:<br>
    <input id="sensor two y" type="text" name="should be 0" >
    <br>
    Sensor 3 : X-axis:<br>
    <input id="sensor three x" type="text" name="">
    <br>
    Sensor 3 : Y axis:<br>
    <input id="sensor three y" type="text" name="" >
    <br>
    <input type="button" id="Map" value="Map">


  </form> -->

  <canvas id="myCanvas" width="800" height="400">
    <img src="EC544.jpg" id="background" />
  Your browser does not support the HTML5 canvas tag.
  </canvas>


  <div id="sensor_group">
    <h1 id="one">R1 = </h1>
    <h1 id="two">R2 = </h1>
    <h1 id="three">R3 = </h1>
    <h1 id="three">R4 = </h1>

  </div>
  <div id="value_group">
    <h1 id="val_one"> </h1>
    <h1 id="val_two"> </h1>
    <h1 id="val_three"> </h1>
    <h1 id="val_four"> </h1>
  </div>

  <!-- <input type="button" id="Map" value="Map"> -->


  <!-- <div class="box">

  </div> -->

  <!-- <canvas id="myCanvas" width="800" height="400">
    <img src="EC544.jpg" id="background" />
  Your browser does not support the HTML5 canvas tag.
  </canvas> -->


<script>

    var socket = io();

    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    var imageObj = new Image();
    imageObj.onload = function() {
    ctx.drawImage(imageObj, 0, 0);
    // ctx.fillStyle = "rgba(255,0,0,0)";
    // ctx.fillRect(680,380,10,10);
    socket.on('locate',function(locate){
        drawbox(locate);
       })
  };
     imageObj.src = "EC544_new.png"




  socket.on("r1", function(data) {
    $(document.getElementById('val_one')).text(data);
  });

  socket.on("r2", function(data) {
    $(document.getElementById('val_two')).text(data);
  });

  socket.on("r3", function(data) {
    $(document.getElementById('val_three')).text(data);
  });
  socket.on("r4", function(data) {
    $(document.getElementById('val_four')).text(data);
  });

  function drawbox(n){
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(80,20,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(180,20,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(280,20,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(480,20,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(580,20,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(680,20,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(80,380,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(180,380,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(320,380,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(480,380,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(580,380,10,10);
       ctx.fillStyle = "rgba(255,0,0,0)";
       ctx.fillRect(680,380,10,10);

       if (n == 1){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(80,20,10,10);
         return;
       }
       if (n == 2){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(180,20,10,10);
         return;
       }
       if (n == 3){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(280,20,10,10);
         return;
       }
       if (n == 4){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(480,20,10,10);
         return;
       }
       if (n == 5){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(580,20,10,10);
         return;
       }
       if (n == 6){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(680,20,10,10);
         return;
       }
       if (n == 7){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(80,380,10,10);
         return;
       }
       if (n == 8){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(180,380,10,10);
         return;
       }
       if (n == 9){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(320,380,10,10);
         return;
       }
       if (n == 10){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(480,380,10,10);
         return;
       }
       if (n == 11){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(580,380,10,10);
         return;
       }
       if (n == 12){
         ctx.fillStyle = "rgba(255,0,0,1)";
         ctx.fillRect(680,380,10,10);
         return;
       }
  }



</script>


</body>
</html>
